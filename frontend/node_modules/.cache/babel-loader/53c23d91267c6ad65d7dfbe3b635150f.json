{"ast":null,"code":"import _classCallCheck from \"/Users/thompsonteng/Documents/CS498_web/final_project/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/thompsonteng/Documents/CS498_web/final_project/frontend/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/thompsonteng/Documents/CS498_web/final_project/frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/thompsonteng/Documents/CS498_web/final_project/frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/thompsonteng/Documents/CS498_web/final_project/frontend/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/thompsonteng/Documents/CS498_web/final_project/frontend/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/thompsonteng/Documents/CS498_web/final_project/frontend/src/pages/Home.js\";\nimport React, { Component } from 'react';\nimport { InputGroup, FormControl, Button, ButtonToolbar } from 'react-bootstrap';\nimport { connect } from \"react-redux\";\nimport './Home.scss';\nimport PostItem from '../components/PostItem';\nimport { filterPosts as _filterPosts, searchPosts } from '../action/postAction';\n\nvar Home =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Home, _Component);\n\n  function Home(props) {\n    var _this;\n\n    _classCallCheck(this, Home);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Home).call(this, props));\n    _this.state = {\n      input: ''\n    };\n    _this.inputChange = _this.inputChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Home, [{\n    key: \"inputChange\",\n    value: function inputChange(event) {\n      this.setState({\n        input: event.target.value\n      });\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit(event) {\n      this.props.dispatch(searchPosts(this.state.input));\n    }\n  }, {\n    key: \"handleCategory\",\n    value: function handleCategory(category) {\n      this.props.dispatch(_filterPosts(category));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var posts = this.props.posts;\n      return React.createElement(\"div\", {\n        className: \"home_page\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35\n        },\n        __self: this\n      }, React.createElement(InputGroup, {\n        className: \"input_group mb-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36\n        },\n        __self: this\n      }, React.createElement(FormControl, {\n        placeholder: \"I'm feeling lucky\",\n        \"aria-describedby\": \"basic-addon2\",\n        onChange: this.inputChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37\n        },\n        __self: this\n      }), React.createElement(InputGroup.Append, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }, React.createElement(Button, {\n        variant: \"outline-secondary\",\n        onClick: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }, \"Search\"))), React.createElement(ButtonToolbar, {\n        className: \"button_group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, React.createElement(Button, {\n        variant: \"outline-primary\",\n        onClick: function onClick() {\n          return _this2.handleCategory('food');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, \"Food\"), React.createElement(Button, {\n        variant: \"outline-secondary\",\n        onClick: function onClick() {\n          return _this2.handleCategory('housing');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, \"Housing\"), React.createElement(Button, {\n        variant: \"outline-success\",\n        onClick: function onClick() {\n          return _this2.handleCategory('events');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, \"Events\"), React.createElement(Button, {\n        variant: \"outline-warning\",\n        onClick: function onClick() {\n          return _this2.handleCategory('health');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, \"Health\"), React.createElement(Button, {\n        variant: \"outline-danger\",\n        onClick: function onClick() {\n          return _this2.handleCategory('course');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, \"Course\"), React.createElement(Button, {\n        variant: \"outline-dark\",\n        onClick: function onClick() {\n          return _this2.handleCategory('miscellaneous');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, \"Misc.\")), posts.map(function (post) {\n        return React.createElement(PostItem, Object.assign({\n          key: post._id\n        }, post, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 55\n          },\n          __self: this\n        }));\n      }));\n    }\n  }]);\n\n  return Home;\n}(Component);\n\nfunction mapStateToProps(state) {\n  var _state$postReducer = state.postReducer,\n      posts = _state$postReducer.posts,\n      filter_category = _state$postReducer.filter_category,\n      search_input = _state$postReducer.search_input;\n  var display_post = filter_category === '' ? posts : posts.filter(function (post) {\n    return post.category === filter_category;\n  });\n  console.log(search_input);\n  return {\n    posts: search_input === '' ? display_post : display_post.filter(function (post) {\n      return post.title.includes(search_input);\n    })\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    filterPosts: function filterPosts(category) {\n      dispatch(_filterPosts(category));\n    }\n  };\n}\n\nexport default connect(mapStateToProps)(Home);","map":{"version":3,"sources":["/Users/thompsonteng/Documents/CS498_web/final_project/frontend/src/pages/Home.js"],"names":["React","Component","InputGroup","FormControl","Button","ButtonToolbar","connect","PostItem","filterPosts","searchPosts","Home","props","state","input","inputChange","bind","handleSubmit","event","setState","target","value","dispatch","category","posts","handleCategory","map","post","_id","mapStateToProps","postReducer","filter_category","search_input","display_post","filter","console","log","title","includes","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {InputGroup, FormControl, Button, ButtonToolbar} from 'react-bootstrap';\nimport { connect } from \"react-redux\";\n\nimport './Home.scss'\nimport PostItem from '../components/PostItem';\nimport {filterPosts, searchPosts} from '../action/postAction'\n\n\nclass Home extends Component {\n        constructor(props) {\n                super(props);\n                this.state = {\n                        input: '',\n                }\n                this.inputChange = this.inputChange.bind(this);\n                this.handleSubmit = this.handleSubmit.bind(this);\n        }\n\n        inputChange(event) {\n                this.setState({input: event.target.value});\n        }\n\n        handleSubmit(event) {\n                this.props.dispatch(searchPosts(this.state.input));\n        }\n\n        handleCategory(category) {\n                this.props.dispatch(filterPosts(category));\n        }\n\n        render() {\n                const {posts} = this.props;\n                return (\n                        <div className='home_page'>\n                                <InputGroup className=\"input_group mb-3\">\n                                    <FormControl\n                                      placeholder=\"I'm feeling lucky\"\n                                      aria-describedby=\"basic-addon2\"\n                                      onChange={this.inputChange}\n                                    />\n                                    <InputGroup.Append>\n                                      <Button variant=\"outline-secondary\" onClick={this.handleSubmit}>Search</Button>\n                                    </InputGroup.Append>\n                                </InputGroup>\n                                <ButtonToolbar className='button_group'>\n                                  <Button variant=\"outline-primary\" onClick={()=>this.handleCategory('food')}>Food</Button>\n                                  <Button variant=\"outline-secondary\" onClick={()=>this.handleCategory('housing')}>Housing</Button>\n                                  <Button variant=\"outline-success\" onClick={()=>this.handleCategory('events')}>Events</Button>\n                                  <Button variant=\"outline-warning\" onClick={()=>this.handleCategory('health')}>Health</Button>\n                                  <Button variant=\"outline-danger\" onClick={()=>this.handleCategory('course')}>Course</Button>\n                                  <Button variant=\"outline-dark\" onClick={()=>this.handleCategory('miscellaneous')}>Misc.</Button>\n                                </ButtonToolbar>\n                                {posts.map((post)=>\n                                        <PostItem key={post._id} {...post}/>)}\n                        </div>\n                )\n        }\n}\n\nfunction mapStateToProps(state) {\n        const {posts, filter_category, search_input} = state.postReducer;\n        const display_post = filter_category===''?posts:posts.filter((post)=>post.category===filter_category);\n        console.log(search_input);\n        return {\n                posts: search_input===''?display_post:display_post.filter(post=>post.title.includes(search_input)),\n        }\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    filterPosts: (category) => {dispatch(filterPosts(category))}\n  };\n}\n\nexport default connect(mapStateToProps)(Home);\n"]},"metadata":{},"sourceType":"module"}